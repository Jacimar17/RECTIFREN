<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RECTIFREN â€” Control de Stock</title>

  <!-- Estilos modulares -->
  <link rel="stylesheet" href="css/colors.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/styles.css">

  <!-- SheetJS para exportar Excel (se usa desde stock.js) -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js" defer></script>
</head>
<body>
  <!-- BARRA SUPERIOR (sticky) -->
  <header class="topbar" role="banner">
    <div class="topbar-left">
      <div class="logo-box" aria-hidden="false">
        <img src="img/logo.png" alt="RECTIFREN logo" id="logo" onerror="this.style.opacity=0.35">
      </div>
      <div class="brand-title">
        <h1>RECTIFREN</h1>
        <p class="subtitle">Control de Stock</p>
      </div>
    </div>

    <div class="topbar-right" role="navigation" aria-label="Controles principales">
      <input id="search" type="search" placeholder="Buscar por cÃ³digo o marca..." aria-label="Buscar">
      <button id="btnSaveAll" class="btn btn-primary" title="Guardar todos los cambios">Guardar cambios</button>
      <button id="btnDownload" class="btn btn-ghost" title="Descargar Excel">Descargar Excel</button>
      <button id="btnRefresh" class="btn btn-ghost" title="Refrescar">ðŸ”„</button>
      <a class="nav-link" href="pages/vehiculos.html" title="Registro de VehÃ­culos">Registro VehÃ­culos</a>
    </div>
  </header>

  <main id="main" role="main">
    <section class="container">
      <div id="status" class="status" aria-live="polite" hidden></div>

      <div class="card">
        <div class="table-wrapper" role="region" aria-label="Tabla de stock">
          <table id="stockTable" class="table" summary="Tabla de control de stock">
            <thead>
              <tr>
                <th scope="col">CÃ³digo</th>
                <th scope="col">Marca</th>
                <th scope="col">Stock</th>
                <th scope="col">Ajustar</th>
              </tr>
            </thead>
            <tbody>
              <!-- Filas generadas dinÃ¡micamente por /js/stock.js -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="footer-note">Colores: verde (&gt;5) â€” naranja (4 a 2) â€” rojo (1, 0 o vacÃ­o).</div>
    </section>
  </main>

  <!-- Plantilla de fila (opcional, usada por stock.js) -->
  <template id="row-template">
    <tr>
      <td class="td-codigo"></td>
      <td class="td-marca"></td>
      <td class="td-stock">
        <input type="number" class="input-stock" min="0" />
      </td>
      <td class="td-actions">
        <button class="btn-small btn-plus" aria-label="Sumar">+</button>
        <button class="btn-small btn-minus" aria-label="Restar">âˆ’</button>
      </td>
    </tr>
  </template>

  <!-- Scripts modulares (defer para cargar al final) -->
  <script src="js/api.js" defer></script>
  <script src="js/ui.js" defer></script>
  <script src="js/stock.js" defer></script>
</body>
</html>
